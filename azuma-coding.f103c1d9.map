{"version":3,"sources":["../node_modules/hyperapp/src/index.js","../node_modules/hyperapp-transitions/src/index.js","0","asset/mylib.js","asset/component.js","asset/azuma-coding.js"],"names":["h","name","attributes","length","rest","children","arguments","push","node","pop","nodeName","key","app","state","actions","view","container","map","skipRender","rootElement","oldNode","recycleElement","element","toLowerCase","call","childNodes","nodeType","nodeValue","lifecycle","isRecycling","globalState","clone","wiredActions","wireStateToActions","path","action","data","result","getPartialState","then","scheduleRender","setPartialState","concat","resolveNode","render","patch","parent","isSvg","newElement","createElement","document","createTextNode","createElementNS","oncreate","i","appendChild","updateAttribute","insertBefore","removeElement","updateElement","oldAttributes","cb","onupdate","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","getKey","k","newKey","keyedNode","setTimeout","target","source","out","value","slice","eventListener","event","currentTarget","events","type","oldValue","style","cssText","setProperty","addEventListener","removeEventListener","setAttribute","removeAttribute","done","removeChild","removeChildren","ondestroy","onremove","updateAllTracked","trackingRegistry","el","parentNode","setStyle","attr","Object","keys","forEach","registerTracking","indexOf","updateTracking","unregisterTracking","splice","invertLastMove","x","_x","y","_y","n","Math","floor","rect","getBoundingClientRect","left","top","runTransition","before","after","ondone","easing","time","delay","requestAnimationFrame","transition","runEnter","css","reduce","o","runMove","transform","runExit","translation","noop","composeHandlers","f1","f2","transitionComponent","handlersFn","handlers","filter","child","_track","_move","_exit","keep","Enter","Move","Exit","module","exports","cells","title","enTitle","imgIndex","cellEvent","detail","MyName","EducationalLevel","MySkill","tooltip","MyExperience","RecentlyInterested","Hobbies","vimeoId","url","addr","Config","cellSize","viewHeight","window","innerHeight","aspect","innerWidth","directions","odd","even","randomIn","min","max","random","rangeIn","Array","calcNextPos","positionArray","basePosition","directionType","randomDirection","movement","getNextPos","nextPos","verifyPos","configurePosition","currentCells","newCells","cell","newCell","cellPos","completeNewCell","assign","toWindowPos","positionList","targetPosition","positionInsideBorder","positionConflict","targetCell","some","position","borderLevel","winPos","realX","realY","isXLegal","isYLegal","pos","Cell","config","updateHint","cellActions","handleCell","class","width","height","backgroundSize","backgroundPosition","onmouseenter","body","zh","en","active","onmouseleave","onclick","Hint","Resume","split","join","item","VimeoPlayer","popup","getElementById","hintLock","hint","updateCells","open","location","href","resetPopUp","cellDelayIndex","opacity","pointerEvents","sum","main","newCellsWithPos","JSONinfo"],"mappings":"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","file":"azuma-coding.f103c1d9.map","sourceRoot":"src","sourcesContent":["export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","addEventListener('resize', updateAllTracked)\naddEventListener('scroll', updateAllTracked)\n\nvar trackingRegistry = []\n\nfunction removeElement (el) {\n    el.parentNode.removeChild(el)\n}\n\nfunction setStyle (el, attr) {\n    Object.keys(attr)\n    .forEach(function (name) {\n        el.style[name] = attr[name]\n    })\n}\n\nfunction registerTracking (el) {\n    if (trackingRegistry.indexOf(el) > -1 ) return\n    trackingRegistry.push(el)\n    setTimeout(function () {\n      updateTracking(el)\n    }, 0)\n}\n\nfunction unregisterTracking(el) {\n    var i = trackingRegistry.indexOf(el)\n    if (i === -1) return\n    trackingRegistry.splice(i, 1)\n}\n\nfunction updateAllTracked () {\n    trackingRegistry.forEach(updateTracking)  \n} \n\nfunction invertLastMove (el) {\n    var x = el._x\n    var y = el._y\n    if (!x) return 'translate(0, 0)'\n    var n = updateTracking(el)\n    var dx = Math.floor(x - n.x)\n    var dy = Math.floor(y - n.y)\n    return 'translate(' + dx + 'px, ' + dy + 'px)'\n}\n\nfunction updateTracking (el) {\n    var rect = el.getBoundingClientRect()\n    el._x = rect.left\n    el._y = rect.top\n    return {x: rect.left, y: rect.top}\n}\n\nfunction runTransition (el, attr, before, after, ondone) {\n    var easing = attr.easing || 'linear'\n    var time = attr.time || 300\n    var delay = attr.delay || 0\n    setStyle(el, before)\n    setTimeout(function () {\n        requestAnimationFrame(function () {\n            setStyle(el, after)\n            el.style.transition = 'all ' + easing + ' ' + time + 'ms'\n            setTimeout(function () {\n                el.style.transition = null\n                ondone && ondone()\n            }, time)\n        })\n    }, delay)\n}\n\nfunction runEnter (el, attr, css) {\n    if (typeof css === 'function') css = css()\n    runTransition(\n        el, attr,\n        css,\n        Object.keys(css).reduce(function (o, n) {\n            o[n] = null\n            return o\n        }, {}),\n        function () { updateTracking(el) }\n    )\n}\n\nfunction runMove (el, attr) {\n    runTransition(\n        el, attr,\n        {transform: invertLastMove(el)},\n        {transform: null}\n    )\n}\n\nfunction runExit (el, attr, css, done) {\n    if (typeof css === 'function') css = css()\n    unregisterTracking(el)\n    var translation = invertLastMove(el)\n    css.transform = translation + (css.transform ? (' ' + css.transform) : '')\n    runTransition(\n        el, attr,\n        {transform: translation},\n        css,\n        done\n    )\n}\n    \nfunction noop () {}\n    \nfunction composeHandlers (f1, f2) {\n    if (!f1) return f2\n    if (!f2) return f1\n    return function (el, done) {\n        f1 && f1(el, done)\n        f2 && f2(el, done)\n        return noop\n    }\n}\n\nfunction transitionComponent (handlersFn) {\n    return function (attr, children) {\n        var handlers = handlersFn(attr || {})\n        return children\n        .filter(function (child) { return !!child.attributes})\n        .map(function (child) {\n            ['oncreate', 'onupdate', 'onremove'].forEach(function (n) {\n                child.attributes[n] = composeHandlers(child.attributes[n], handlers[n])\n            })  \n            return child\n        })\n    }\n}\n\nvar _track = transitionComponent(function (attr) { \n    return {oncreate: function (el) { registerTracking(el)} }\n})\n\nvar _move = transitionComponent(function (attr) { \n    return { onupdate: function (el) { runMove(el, attr) } }\n})\n\nvar _exit = transitionComponent(function (attr) {\n    return {\n        onremove: function (el, done) {\n            done = done || function () { removeElement(el) }\n            runExit(el, attr, attr.css || {}, !attr.keep && done)\n        }\n    }\n})\n\nvar Enter = transitionComponent(function (attr) {\n    return { oncreate: function (el) { runEnter(el, attr, attr.css || {}) } }\n})\n\nvar Move = function (attr, children) {\n    return _move(attr, _track(null, children))\n}\n\nvar Exit = function (attr, children) {\n    return _exit(attr, _track(null, children))\n}\n\nexport {Enter, Move, Exit}  ",null,"const Config = {\n  cellSize: 7,\n  viewHeight: Math.floor(window.innerHeight / 100),\n  aspect: Math.floor(window.innerWidth / window.innerHeight * 10) / 10\n}\n\nconst directions = {\n  odd: [\n    { x: 0, y: -1 },\n    { x: 1, y: 0 },\n    { x: 0, y: 1 },\n    { x: -1, y: 1 },\n    { x: -1, y: 0 },\n    { x: -1, y: -1 }\n  ],\n  even: [\n    { x: 1, y: -1 },\n    { x: 1, y: 0 },\n    { x: 1, y: 1 },\n    { x: 0, y: 1 },\n    { x: -1, y: 0 },\n    { x: 0, y: -1 }\n  ]\n}\n\nconst randomIn = (min, max) => (\n  Math.floor(\n    Math.random() * (max - min + 1)\n  ) + min\n)\n\nconst rangeIn = (min, max) => (\n  [...new Array(max - min + 1).keys()].map(i => (i + min))\n)\n\nconst calcNextPos = positionArray => {\n  if (positionArray.length === 0) { return { x: 0, y: 0 } }\n  let basePosition = positionArray[randomIn(0, positionArray.length - 1)]\n  let directionType = basePosition.y % 2 ? 'odd' : 'even'\n  let randomDirection = randomIn(0, 5)\n  let movement = directions[directionType][randomDirection]\n  return { x: basePosition.x + movement.x, y: basePosition.y + movement.y }\n}\n\nconst getNextPos = positionArray => {\n  let nextPos = calcNextPos(positionArray) // {x, y}\n  while (!verifyPos(positionArray, nextPos)) {\n    nextPos = calcNextPos(positionArray)\n  }\n  return nextPos\n}\n\nconst configurePosition = (currentCells, newCells) => {\n  let positionArray = currentCells.map(cell => ({ x: cell.x, y: cell.y }))\n  return newCells.map(newCell => {\n    let cellPos = getNextPos(positionArray)\n    let completeNewCell = Object.assign({}, newCell, toWindowPos(cellPos))\n    positionArray = positionArray.concat(cellPos)\n    // {id, x, y}\n    return completeNewCell\n  })\n}\n\nconst verifyPos = (positionList, targetPosition) => (\n  positionInsideBorder(targetPosition) && !positionConflict(positionList, targetPosition)\n)\nconst positionConflict = (positionList, targetCell) => (\n  positionList.some(position => (\n    position.x === targetCell.x && position.y === targetCell.y\n  ))\n)\n\nconst positionInsideBorder = cell => {\n  let borderLevel = 45\n  let winPos = toWindowPos(cell)\n  let realX = winPos.x * Config.cellSize * 3 / 4 * Config.viewHeight\n  let realY = winPos.y * Config.cellSize * 3 / 4 * Config.viewHeight\n  let isXLegal = realX > Math.floor(-borderLevel * Config.viewHeight * Config.aspect) + 1 &&\n    realX < Math.floor(borderLevel * Config.viewHeight * Config.aspect) - 1\n  let isYLegal = realY > Math.floor(-borderLevel * Config.viewHeight) &&\n    realY < Math.floor(borderLevel * Config.viewHeight)\n  return isXLegal && isYLegal\n}\n\nconst toWindowPos = pos => (\n  pos.y % 2 ? { x: pos.x * 4 - 2, y: pos.y * 3 } : { x: pos.x * 4, y: pos.y * 3 }\n)\n\nexport { rangeIn, configurePosition, Config }\n","import { h } from 'hyperapp'\n\nconst Cell = (\n  {\n    x,\n    y,\n    title,\n    enTitle,\n    cellEvent,\n    imgIndex,\n    config,\n    cellActions,\n    updateHint,\n    handleCell\n  }) => (\n  h('div', {\n    class: 'hexagon',\n    style: {\n      width: `${(config.cellSize - 0.8) * 3}vmin`,\n      height: `${(config.cellSize - 0.8) * 3}vmin`,\n      left: `calc(50vw + ${x * config.cellSize * 0.75}vmin)`,\n      top: `calc(50vh + ${y * config.cellSize * 0.75}vmin)`,\n      backgroundSize: `${(config.cellSize - 0.8) * 3}vmin`,\n      backgroundPosition: `0 -${imgIndex * (config.cellSize - 0.8) * 3}vmin`\n    },\n    onmouseenter: () => {\n      document.title = title\n      document.body.style.backgroundPosition = `center ${imgIndex * -100}vh`\n      return updateHint({ zh: title, en: enTitle, active: true })\n    },\n    onmouseleave: () => {\n      document.title = 'AzumaCoding作品集'\n      document.body.removeAttribute('style')\n      return updateHint({ active: false })\n    },\n    onclick: () => handleCell(cellEvent)\n  })\n)\n\nconst Hint = ({ active, zh, en }) => (\n  <div id='hint-box' class={active && 'active'}>\n    <div id='zh-hint' class='hint-text'>{zh}</div>\n    <div id='en-hint' class='hint-text'>{en}</div>\n  </div>\n)\n\nconst Resume = ({ detail }) => (\n  <div id='resume'>\n    {Object.keys(detail).map(key =>(\n      <div class='list'>\n        <div class='list-title'>{key.split(/(?=[A-Z])/).join(' ')}</div>\n        <ul class='list-contents'>\n          {detail[key].map(item => (\n            <li class='item' title={item.tooltip}>{item.value}</li>\n          ))}\n        </ul>\n      </div>\n    ))}\n  </div>\n)\n\nconst VimeoPlayer = ({ detail }) => (\n  <iframe id='vimeo-player' src={'https://player.vimeo.com/video/' + detail.vimeoId} />\n)\n\nexport { Hint, Cell, VimeoPlayer, Resume }\n","import { h, app } from 'hyperapp'\nimport { Enter, Exit } from 'hyperapp-transitions'\nimport JSONinfo from './cellsInfo.json'\nimport { configurePosition, Config } from './mylib'\nimport { Hint, Cell, VimeoPlayer, Resume } from './component'\nconst popup = document.getElementById('popup')\nlet hintLock = false\n\nconst state = {\n  cells: [],\n  hint: {\n    active: false,\n    zh: '',\n    en: ''\n  },\n  popup: {\n    active: false,\n    type: '',\n    detail: ''\n  }\n}\n\nconst actions = {\n  updateCells: cells => state => (\n    { cells: state.cells.concat(cells) }\n  ),\n  updateHint: hint => state => (\n    { hint: Object.assign({}, state.hint, hint) }\n  ),\n  handleCell: cellEvent => state => {\n    switch (cellEvent.type) {\n      case 'link':\n        window.open(cellEvent.detail.url, '_blank')\n        break\n      case 'mail':\n        window.location.href = `mailto:${cellEvent.detail.addr}`\n        break\n      case 'vimeo':\n        return { popup: { active: true, type: cellEvent.type, detail: cellEvent.detail } }\n        break\n      case 'resume':\n      return { popup: { active: true, type: cellEvent.type, detail: cellEvent.detail } }\n        break\n    }\n  },\n  resetPopUp: () => state => (\n    { popup: { active: false, type: '', detail: '' } }\n  )\n}\n\nlet cellDelayIndex = 0\nconst view = (state, actions) => (\n  <div id='app-container'>\n    {state.cells.map(cell => (\n      <Enter\n        css={{\n          opacity: '0', pointerEvents: 'none'\n        }}\n        delay={100 + [...new Array(cellDelayIndex++).keys()]\n          .map(n => (Math.floor(800 * 0.65 ** n)))\n          .reduce((sum, n) => (sum + n), 0)}\n        time={300}\n        easing='cubic-bezier(0.4, 0, 0.2, 1)'\n      >\n        <Cell\n          x={cell.x}\n          y={cell.y}\n          title={cell.title}\n          enTitle={cell.enTitle}\n          cellEvent={cell.cellEvent}\n          imgIndex={cell.imgIndex}\n          config={Config}\n          updateHint={actions.updateHint}\n          handleCell={actions.handleCell}\n        />\n      </Enter>\n    ))}\n    <Hint zh={state.hint.zh} en={state.hint.en} active={state.hint.active} />\n    <div id='popup' class={state.popup.active && 'active'} onclick={() => actions.resetPopUp()}>\n      {state.popup.type === 'vimeo' && <VimeoPlayer detail={state.popup.detail} />}\n      {state.popup.type === 'resume' && <Resume detail={state.popup.detail} />}\n    </div>\n  </div>\n)\n\nlet main = app(state, actions, view, document.body)\n\nlet newCellsWithPos = configurePosition(state.cells, JSONinfo.cells)\nmain.updateCells(newCellsWithPos)\n"]}